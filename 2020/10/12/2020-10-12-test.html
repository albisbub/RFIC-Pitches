<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-10-12-test.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="https://colab.research.google.com/github/albisbub/RFIC-Pitches/blob/master/_notebooks/2020-07-28-LBMeeting.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab" /></a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Center-For-Jewish-History-Archives-Scraper">Center For Jewish History Archives Scraper<a class="anchor-link" href="#Center-For-Jewish-History-Archives-Scraper"> </a></h1><ul>
<li>Built in support for AJHS</li>
<li>Can be easily used for any repo on CJH's archive space</li>
<li>Could also be used in other archivespace scraping situations.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#collapse-hide</span>
<span class="k">class</span> <span class="nc">CJH_Archives</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">scrape_all_records</span><span class="p">(</span><span class="n">object_type</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">,</span><span class="n">start_page</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stop_after_pages</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">start_page</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Must start at minimum of page 1&quot;</span><span class="p">)</span>
      <span class="n">start_page</span><span class="o">=</span><span class="mi">1</span>
      <span class="n">page</span><span class="o">=</span><span class="n">start_page</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">page</span> <span class="o">=</span> <span class="n">start_page</span> 
    <span class="k">if</span> <span class="n">object_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;RECORDS&#39;</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Scraping All Individual Records&quot;</span><span class="p">)</span>
      <span class="c1"># page = start_page</span>
      <span class="n">headless_url</span> <span class="o">=</span> <span class="s2">&quot;https://archives.cjh.org/repositories/3/objects?q%5B%5D=%2A&amp;op%5B%5D=OR&amp;field%5B%5D=keyword&amp;from_year%5B%5D=&amp;to_year%5B%5D=&amp;limit=digital_object,archival_object&amp;sort=title_sort</span><span class="si">%20a</span><span class="s2">sc&amp;page=&quot;</span>
      <span class="n">base_URL</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">headless_url</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">page</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">object_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;COLLECTIONS&#39;</span><span class="p">:</span>
      <span class="c1"># page = start_page</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Scraping Collections (Finding Aids)&quot;</span><span class="p">)</span>
      <span class="n">headless_url</span> <span class="o">=</span> <span class="s2">&quot;https://archives.cjh.org/repositories/3/resources?q[]=%2A&amp;op[]=&amp;field[]=title&amp;from_year[]=&amp;to_year[]=&amp;limit=resource&amp;sort=title_sort</span><span class="si">%20a</span><span class="s2">sc&amp;page=&quot;</span>
      <span class="n">base_URL</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">headless_url</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">page</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">scrape_record</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">link</span><span class="p">,</span> <span class="n">web_page</span><span class="p">,</span> <span class="n">object_type</span><span class="p">):</span>
      <span class="c1"># print(web_page, link)</span>
      <span class="c1"># (.+?)</span>
      <span class="c1"># meta_dict = find_between(str(i),&#39;&lt;script type=&quot;application/ld+json&quot;&gt;&#39;,&#39;  &lt;/script&gt;&#39; )</span>
      <span class="c1"># meta_dict = re.findall(r&#39;&gt;(&#39;, str(web_page))</span>
      <span class="n">title</span> <span class="o">=</span> <span class="p">(</span><span class="n">web_page</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
      <span class="n">part_of</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">,{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;breadcrumb&#39;</span><span class="p">})</span>
      <span class="n">part_of</span> <span class="o">=</span> <span class="n">part_of</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>

      <span class="n">location_tupes</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">part_of</span><span class="p">:</span>
        <span class="n">link</span> <span class="o">=</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">found_loc_name</span> <span class="o">=</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">tupp</span> <span class="o">=</span> <span class="p">(</span><span class="n">found_loc_name</span><span class="p">,</span><span class="n">link</span><span class="p">)</span>
        <span class="n">location_tupes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tupp</span><span class="p">)</span>
        <span class="c1"># location_name = (str(i.split(&#39;&gt;&#39;)[1])).split(&#39;&lt;&#39;)[0]</span>
      <span class="c1"># stri = &quot;&lt;a href=&quot;</span>
      <span class="c1"># part_of = list(map(lambda st: str.replace(st,stri, &quot;&quot;), part_of)) </span>
      <span class="n">locs</span> <span class="o">=</span> <span class="p">(</span><span class="n">location_tupes</span><span class="p">)</span>

      <span class="n">subnotes</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;upper-record-details&#39;</span><span class="p">})[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
      <span class="c1"># print(subnotes)</span>
      <span class="n">div_data_1</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;Name&quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;Link&quot;</span><span class="p">,</span><span class="n">link</span><span class="p">)]</span>


      <span class="n">acord</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;acc_holder clear&#39;</span><span class="p">})[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
      
      <span class="n">acc_data</span> <span class="o">=</span> <span class="p">[]</span>

      <span class="k">if</span> <span class="n">object_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;RECORDS&#39;</span><span class="p">:</span>
        <span class="n">possible_fields_1</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;Scope and Contents&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Dates&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Language of Materials&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Access Restrictions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Extent&quot;</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="n">possible_fields_2</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Related Names&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Digital Material&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Physical Storage Information&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Repository Details&quot;</span><span class="p">,</span>

        <span class="p">]</span>
      <span class="k">elif</span> <span class="n">object_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;COLLECTIONS&#39;</span><span class="p">:</span>
        <span class="n">possible_fields_1</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">&quot;Scope and Content Note&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Dates&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Creator&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Access Restrictions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Use Restrictions&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Conditions Governing Access&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Conditions Governing Use&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Extent&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Language of Materials&quot;</span>

        <span class="p">]</span>
        <span class="n">possible_fields_2</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;Additional Description&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Subjects&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Related Names&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Finding Aid &amp; Administrative Information&quot;</span><span class="p">,</span>
        <span class="s1">&#39;Physical Storage Information&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Repository Details&#39;</span><span class="p">,</span>

        <span class="p">]</span>


    
      <span class="c1">##subnotes</span>
      <span class="n">b1</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">possible_fields_1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">subnotes</span><span class="p">):</span>
          <span class="n">out</span><span class="o">=</span><span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">out</span> <span class="o">=</span> <span class="kc">False</span>
          <span class="n">missingTuple</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
          <span class="n">div_data_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">missingTuple</span><span class="p">)</span>      
        <span class="n">b1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
      <span class="c1">##accordian</span>

      <span class="n">b2</span><span class="o">=</span><span class="p">[]</span>

      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">possible_fields_2</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">acord</span><span class="p">):</span>
          <span class="n">out</span><span class="o">=</span><span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
          <span class="n">out</span> <span class="o">=</span> <span class="kc">False</span>
          <span class="n">missingTuple</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
          <span class="n">div_data_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">missingTuple</span><span class="p">)</span>
        <span class="n">b2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>

      <span class="c1"># print(b1, b2)</span>
      <span class="n">xs</span><span class="o">=</span><span class="n">possible_fields_1</span>
      <span class="n">ys</span><span class="o">=</span><span class="n">b1</span>
      <span class="c1"># sec_1_heads = [x for x, y in zip(xs, ys) if y == &#39;True&#39;]</span>
      <span class="n">filtered1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xs</span><span class="p">)[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ys</span><span class="p">)]</span>
      <span class="n">xs</span><span class="o">=</span><span class="n">possible_fields_2</span>
      <span class="n">ys</span><span class="o">=</span><span class="n">b2</span>  
      <span class="n">filtered2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xs</span><span class="p">)[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ys</span><span class="p">)]</span>

      <span class="c1"># sec_2_heads =  [x for x, y in zip(xs, ys) if y == &#39;True&#39;]</span>
      <span class="c1"># print(filtered1,filtered2,&#39;xyz&#39;)</span>
      <span class="n">indexer</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">filtered1</span><span class="p">:</span>
        <span class="c1"># print(len(filtered1),len(filtered2), (indexer))</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">i</span>

        <span class="k">try</span><span class="p">:</span>
          <span class="nb">next</span> <span class="o">=</span> <span class="n">filtered1</span><span class="p">[</span><span class="n">indexer</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
          <span class="nb">next</span> <span class="o">=</span> <span class="s1">&#39;$$$&#39;</span>
        <span class="c1"># print(first, next)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">find_between</span><span class="p">(</span><span class="n">subnotes</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="nb">next</span><span class="p">)</span>
        <span class="c1"># print(first, next, value)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
        <span class="c1"># print(first, next, value)</span>
        <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">value</span><span class="p">)</span>
        <span class="n">div_data_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="n">indexer</span><span class="o">+=</span><span class="mi">1</span>
        <span class="c1"># print(indexer, first, next)</span>
      <span class="n">indexer</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">filtered2</span><span class="p">:</span>
        <span class="n">first</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">try</span><span class="p">:</span>
          <span class="nb">next</span> <span class="o">=</span> <span class="n">filtered1</span><span class="p">[</span><span class="n">indexer</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
          <span class="nb">next</span> <span class="o">=</span> <span class="s1">&#39;$$$&#39;</span>
          <span class="c1"># print(first,next)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">find_between</span><span class="p">(</span><span class="n">acord</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="nb">next</span><span class="p">)</span>
        <span class="c1"># print(first, next, value)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
        <span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">value</span><span class="p">)</span>
        <span class="n">div_data_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="n">indexer</span><span class="o">+=</span><span class="mi">1</span>
        <span class="c1"># print(indexer, first, next)</span>
      
      <span class="c1"># exit</span>
      
      <span class="n">bigList</span> <span class="o">=</span> <span class="p">(</span><span class="n">div_data_1</span><span class="p">)</span>
      <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">bigList</span><span class="p">)</span>
    <span class="n">URL</span> <span class="o">=</span> <span class="n">base_URL</span>
    <span class="n">web_page</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
    <span class="n">pagnation</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">,{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;pagination&#39;</span><span class="p">})[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">)</span>
    <span class="n">next_link</span> <span class="o">=</span> <span class="p">(</span><span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">,{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;next&#39;</span><span class="p">})[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">linkky</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">next_link</span><span class="p">)</span>
    <span class="n">nextPage_</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s2">&quot;https://archives.cjh.org&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="n">linkky</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="c1"># exit</span>
    <span class="c1"># print(pagnation)</span>
    <span class="n">pageList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">s_pages</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pagnation</span><span class="p">:</span>
      <span class="n">number</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&lt;&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">pageList</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">number</span><span class="p">))</span>
    <span class="c1"># print(&quot;Pages&quot;, pageList)</span>
    <span class="c1"># break</span>
    <span class="n">test_list</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">pageList</span><span class="p">:</span>
      <span class="k">try</span><span class="p">:</span>
        <span class="c1"># print(i)</span>
        <span class="c1"># print( int(i))</span>
        <span class="n">test_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
      <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="c1"># test_list = [int(i) for i in pageList if not (i).isdigit()]</span>
    <span class="c1"># print(test_list)</span>
    <span class="n">last_page__</span> <span class="o">=</span> <span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">test_list</span><span class="p">))</span>
    <span class="n">__lastPage</span> <span class="o">=</span> <span class="n">last_page__</span> <span class="o">-</span> <span class="p">(</span><span class="n">last_page__</span> <span class="o">-</span> <span class="n">stop_after_pages</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
    <span class="c1"># exit</span>
    <span class="n">page_counter</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">page_counter</span> <span class="o">&lt;</span> <span class="n">__lastPage</span><span class="p">:</span>
      <span class="n">row_list</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="n">pagez</span><span class="o">=</span> <span class="n">page_counter</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Scraping Page&quot;</span><span class="p">,</span> <span class="n">page_counter</span><span class="p">)</span>

      <span class="n">page_current</span> <span class="o">=</span> <span class="n">page_counter</span>
      <span class="n">URL</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">headless_url</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">page_current</span><span class="p">))</span>
      <span class="n">web_page</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
      <span class="n">h3s</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;h3&#39;</span><span class="p">)</span>
      <span class="c1"># summs = web_page</span>
      <span class="n">tupleList</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">h3s</span><span class="p">:</span>
        <span class="c1"># print(i)</span>
        <span class="k">try</span><span class="p">:</span>
          <span class="n">link</span> <span class="o">=</span> <span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;href=&quot;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">name</span> <span class="o">=</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&gt;&#39;</span><span class="p">))[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&lt;/a&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
          <span class="c1"># print(link, name)</span>
          <span class="c1"># break</span>
          <span class="n">data_tuple</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span> <span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="s2">&quot;https://archives.cjh.org&quot;</span> <span class="o">+</span> <span class="n">link</span><span class="p">),</span> <span class="n">link</span><span class="p">)</span>
          <span class="n">tupleList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_tuple</span><span class="p">)</span>
          
        <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
          <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
      <span class="n">page_counter</span><span class="o">+=</span><span class="mi">1</span>
    <span class="n">archIndex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">tupleList</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Names&#39;</span><span class="p">,</span> <span class="s1">&#39;Link&#39;</span><span class="p">,</span> <span class="s1">&#39;Location&#39;</span><span class="p">])</span>

    <span class="c1"># ...</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">archIndex</span><span class="o">.</span><span class="n">itertuples</span><span class="p">():</span>


      <span class="n">counter</span> <span class="o">+=</span><span class="mi">1</span>

      <span class="n">name</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">Names</span>
      <span class="n">link</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">Link</span>
      <span class="n">link123</span> <span class="o">=</span> <span class="n">link</span>
      <span class="n">Location</span><span class="o">=</span><span class="n">i</span><span class="o">.</span><span class="n">Location</span>
      <span class="n">web_page</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>

      <span class="n">record_row</span> <span class="o">=</span> <span class="n">scrape_record</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">link123</span><span class="p">,</span> <span class="n">web_page</span><span class="p">,</span><span class="n">object_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="p">)</span>
      <span class="n">row_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">record_row</span><span class="p">)</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Record: &quot;</span><span class="p">,</span><span class="n">counter</span><span class="p">,</span> <span class="n">link123</span><span class="p">)</span>


      <span class="n">s_pages</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">row_list</span><span class="p">)</span>

    
    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">s_pages</span><span class="p">:</span>
        <span class="n">d</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>   
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">object_type</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;RECORDS&#39;</span><span class="p">:</span>

      <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Date_1&#39;</span><span class="p">,</span><span class="s1">&#39;Date_2&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Dates&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;–&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
      
      <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Use Terms&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Use Restrictions&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Conditions Governing Use&#39;</span><span class="p">]</span>
      <span class="c1"># df1.replace(&#39;NA&#39;,np.nan,inplace=True)</span>
      <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Access Terms&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span> <span class="s1">&#39;Access Restrictions&#39;</span><span class="p">]</span><span class="o">+</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Conditions Governing Access&#39;</span><span class="p">]</span>
      <span class="n">dropThese</span> <span class="o">=</span> <span class="p">[</span>
              <span class="s1">&#39;Use Restrictions&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Conditions Governing Use&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Access Restrictions&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Conditions Governing Access&#39;</span><span class="p">,</span>
              <span class="p">]</span>
      <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">dropThese</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

      <span class="c1"># df1 = df1.apply(lambda x: None if x.isnull().all() else &#39;;&#39;.join(x.dropna()), axis=1)</span>
      
    <span class="k">return</span> <span class="p">(</span><span class="n">df</span><span class="p">)</span>

  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">repo</span> <span class="o">=</span> <span class="n">repo</span>

  <span class="k">def</span> <span class="nf">get_meta_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">object_type</span><span class="p">,</span><span class="n">page_to_start_at</span><span class="p">,</span><span class="n">maximum_pages_to_scrape</span><span class="p">):</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">repo</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;AJHS&#39;</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Creating CJHA Scraper Object for AJHS&#39;</span><span class="p">)</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">meta_df</span> <span class="o">=</span> <span class="n">scrape_all_records</span><span class="p">(</span><span class="n">object_type</span><span class="p">,</span><span class="n">page_to_start_at</span><span class="p">,</span><span class="n">maximum_pages_to_scrape</span><span class="p">)</span>
      <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">meta_df</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WIP WIP WIP WIP WIP WIP&quot;</span><span class="p">)</span>
      <span class="k">pass</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Building-AJHS-Archive-Datasets">Building AJHS Archive Datasets<a class="anchor-link" href="#Building-AJHS-Archive-Datasets"> </a></h2><p>The below line of code can be used to scrape the archive for a given number of pages (input 0 for all records). There are two object types, records and collections. Collections are digitized finding aids and records are all contained in some sort of collection. Some are under multiple collections. The below lines of code generate dataframes for the first 3 pages of records and collections</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#collapse-hide</span>
<span class="c1"># %%capture</span>
<span class="c1">#records</span>
<span class="n">ajhs_recs</span> <span class="o">=</span> <span class="n">CJH_Archives</span><span class="p">(</span><span class="s1">&#39;ajhs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_meta_data</span><span class="p">(</span><span class="s1">&#39;records&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="c1">#collections</span>
<span class="n">ajhs_cols</span><span class="o">=</span> <span class="n">CJH_Archives</span><span class="p">(</span><span class="s1">&#39;ajhs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_meta_data</span><span class="p">(</span><span class="s1">&#39;collections&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Output-For-Records">Output For Records<a class="anchor-link" href="#Output-For-Records"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Access Restrictions</th>
      <th>Dates</th>
      <th>Digital Material</th>
      <th>Extent</th>
      <th>Language of Materials</th>
      <th>Link</th>
      <th>Name</th>
      <th>Physical Storage Information</th>
      <th>Related Names</th>
      <th>Repository Details</th>
      <th>Scope and Contents</th>
      <th>Date_1</th>
      <th>Date_2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1991–1994</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>056 Flint, MI—Noreen Kasle, 1991–1994</td>
      <td>Box: 296, Folder: 38 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1991</td>
      <td>1994</td>
    </tr>
    <tr>
      <th>2</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1992–1993</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>057 Ft. Lauderdale, FL—Barbara Wiener, 1992–...</td>
      <td>Box: 296, Folder: 39 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1992</td>
      <td>1993</td>
    </tr>
    <tr>
      <th>5</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1992–1995</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>058 Washington, D.C.—Jerome Dick, 1992–1995</td>
      <td>Box: 296, Folder: 42 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1992</td>
      <td>1995</td>
    </tr>
    <tr>
      <th>9</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1994–1995</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>058 Washington, D.C.—Jerome Dick, 1994–1995</td>
      <td>Box: 296, Folder: 43 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1994</td>
      <td>1995</td>
    </tr>
    <tr>
      <th>14</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1996</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>058 Washington, D.C.—Jerome Dick, 1996</td>
      <td>Box: 296, Folder: 44 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1996</td>
      <td>None</td>
    </tr>
    <tr>
      <th>20</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>058 Washington, D.C.—Jerome Dick, 1997</td>
      <td>Box: 296, Folder: 45 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1997</td>
      <td>None</td>
    </tr>
    <tr>
      <th>27</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1983–1993</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>058 Washington, D.C.—Jerome Dick—1 of 2, 198...</td>
      <td>Box: 296, Folder: 40 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1983</td>
      <td>1993</td>
    </tr>
    <tr>
      <th>35</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1983–1993</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>058 Washington, D.C.—Jerome Dick—2 of 2, 198...</td>
      <td>Box: 296, Folder: 41 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1983</td>
      <td>1993</td>
    </tr>
    <tr>
      <th>44</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1994–1995</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>059 Rye, NY—Community Synagogue, 1994–1995</td>
      <td>Box: 296, Folder: 46 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1994</td>
      <td>1995</td>
    </tr>
    <tr>
      <th>54</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1990–1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>060 Latham, NY—Northeastern New York Federat...</td>
      <td>Box: 296, Folder: 50 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1990</td>
      <td>1997</td>
    </tr>
    <tr>
      <th>65</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>060 Latham, NY—Northeastern New York Federat...</td>
      <td>Box: 296, Folder: 51 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Sally Hespe file</td>
      <td>1997</td>
      <td>None</td>
    </tr>
    <tr>
      <th>77</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1997–1999</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>060 Latham, NY—Northeastern New York Federat...</td>
      <td>Box: 296, Folder: 52 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Marie Donski file</td>
      <td>1997</td>
      <td>1999</td>
    </tr>
    <tr>
      <th>90</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>060 Latham, NY—Stanley Kivort—1997 Campaign,...</td>
      <td>Box: 296, Folder: 47 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1997</td>
      <td>None</td>
    </tr>
    <tr>
      <th>104</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1999–2000</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>060 Latham, NY—Stanley Kivort—2000 Campaign,...</td>
      <td>Box: 296, Folder: 48 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Marie Donski file</td>
      <td>1999</td>
      <td>2000</td>
    </tr>
    <tr>
      <th>119</th>
      <td>This collection is open to all researchers by ...</td>
      <td>2001</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>060 Latham, NY—Stanley Kivort—2001 Campaign,...</td>
      <td>Box: 296, Folder: 49 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Marie Donski file</td>
      <td>2001</td>
      <td>None</td>
    </tr>
    <tr>
      <th>135</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1996–1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>061 Philadelphia, PA—Harold Berger, Kenneth ...</td>
      <td>Box: 296, Folder: 54 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file   Analysis of campaign ope...</td>
      <td>1996</td>
      <td>1997</td>
    </tr>
    <tr>
      <th>152</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1993–1996</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>061 Philadelphia, PA—Harold Berger, Lana Dis...</td>
      <td>Box: 296, Folder: 53 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1993</td>
      <td>1996</td>
    </tr>
    <tr>
      <th>170</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1993–1994</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>061 Philadelphia, PA—Kenneth Kaiserman, Alan...</td>
      <td>Box: 296, Folder: 55 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1993</td>
      <td>1994</td>
    </tr>
    <tr>
      <th>189</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1985–1993</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>062 Chevy Chase, MD—Stanley Zupnik, 1985–1993</td>
      <td>Box: 296, Folder: 56 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1985</td>
      <td>1993</td>
    </tr>
    <tr>
      <th>209</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1993–1995</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>062 Chevy Chase, MD—Stanley Zupnik, 1993–1995</td>
      <td>Box: 296, Folder: 57 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1993</td>
      <td>1995</td>
    </tr>
    <tr>
      <th>230</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1996–1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>062 Chevy Chase, MD—Stanley Zupnik—1996 Camp...</td>
      <td>Box: 296, Folder: 58 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Sally Hespe file</td>
      <td>1996</td>
      <td>1997</td>
    </tr>
    <tr>
      <th>252</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>062 Chevy Chase, MD—Stanley Zupnik—1997 Camp...</td>
      <td>Box: 296, Folder: 59 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Sally Hespe file</td>
      <td>1997</td>
      <td>None</td>
    </tr>
    <tr>
      <th>275</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1990–1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>063 Portland, OR—Portland Federation—Jerry S...</td>
      <td>Box: 296, Folder: 60 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Jewish Federation of Portland</td>
      <td>1990</td>
      <td>1997</td>
    </tr>
    <tr>
      <th>299</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1996–1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>063 Portland, OR—Portland Federation—Jerry S...</td>
      <td>Box: 296, Folder: 61 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1996</td>
      <td>1997</td>
    </tr>
    <tr>
      <th>324</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1999–2000</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>063 Portland, OR—Portland Federation—Jerry S...</td>
      <td>Box: 296, Folder: 62 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Marie Donski file</td>
      <td>1999</td>
      <td>2000</td>
    </tr>
    <tr>
      <th>350</th>
      <td>This collection is open to all researchers by ...</td>
      <td>2000</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>063 Portland, OR—Portland Federation—Jerry S...</td>
      <td>Box: 296, Folder: 63 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Marie Donski file   Jewish Family and Child Se...</td>
      <td>2000</td>
      <td>None</td>
    </tr>
    <tr>
      <th>377</th>
      <td>This collection is open to all researchers by ...</td>
      <td>2000–2001</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>063 Portland, OR—Portland Federation—Jerry S...</td>
      <td>Box: 296, Folder: 64 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Marie Donski file</td>
      <td>2000</td>
      <td>2001</td>
    </tr>
    <tr>
      <th>405</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1984–1990</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>064 St. Louis, MO—Lee Bohm, 1984–1990</td>
      <td>Box: 296, Folder: 65 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>From the Sub-Series:              Campaigns we...</td>
      <td>1984</td>
      <td>1990</td>
    </tr>
    <tr>
      <th>434</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1996–1997</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>064 St. Louis, MO—Lee Bohm, Bonnie Levens, R...</td>
      <td>Box: 296, Folder: 66 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1996</td>
      <td>1997</td>
    </tr>
    <tr>
      <th>464</th>
      <td>This collection is open to all researchers by ...</td>
      <td>1996</td>
      <td>Request from an off-site storage location     ...</td>
      <td>From the Collection:    902 Linear Feet (748 B...</td>
      <td>From the Collection:          The collection i...</td>
      <td>/repositories/3/archival_objects/272963</td>
      <td>064 St. Louis, MO—Lee Bohm, Bonnie Levens, R...</td>
      <td>Box: 296, Folder: 67 (Mixed Materials)        ...</td>
      <td>Creator   From the Collection: HIAS (Agency)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Carolyn Agress file</td>
      <td>1996</td>
      <td>None</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Output-for-Collections">Output for Collections<a class="anchor-link" href="#Output-for-Collections"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Additional Description</th>
      <th>Creator</th>
      <th>Dates</th>
      <th>Extent</th>
      <th>Finding Aid &amp; Administrative Information</th>
      <th>Language of Materials</th>
      <th>Link</th>
      <th>Name</th>
      <th>Physical Storage Information</th>
      <th>Related Names</th>
      <th>Repository Details</th>
      <th>Scope and Content Note</th>
      <th>Subjects</th>
      <th>Use Terms</th>
      <th>Access Terms</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Overview           This collection is comprise...</td>
      <td></td>
      <td>1908-1973             Language of Materials   ...</td>
      <td>75 Manuscript Boxes (37.75 feet and one oversi...</td>
      <td>Title                Guide to the Papers of Ad...</td>
      <td>The collection is in English, German, French, ...</td>
      <td>/repositories/3</td>
      <td>Admiral Lewis Lichtenstein Strauss Papers</td>
      <td></td>
      <td></td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The Papers of Admiral Lewis L. Strauss reflect...</td>
      <td>are arranged according to series. Folders are ...</td>
      <td>There may be some restrictions on the use of t...</td>
      <td>The collection is open to all researchers by p...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Overview           Printer's proof of Kraus' e...</td>
      <td>Kraus, Adolf, 1850-1928         (Person)</td>
      <td>ca. 1911</td>
      <td>.25 Linear Feet</td>
      <td>Title                Guide to the Adolf Kraus ...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>Adolf Kraus biographical data</td>
      <td></td>
      <td></td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Printer's proof of Kraus' entry in Who's Who i...</td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>5</th>
      <td>Overview           This collection consists of...</td>
      <td>Lorch, Adolf, 1883-1971         (Person)      ...</td>
      <td>1896-2013                         Majority of ...</td>
      <td>0.75 Linear Feet (1 manuscript box, 1 half-man...</td>
      <td>Title                Guide to the Adolf Lorch ...</td>
      <td>The collection is in English and German.      ...</td>
      <td>/repositories/3</td>
      <td>Adolf Lorch (1883-1971) Papers</td>
      <td></td>
      <td>Creator   Lorch, Adolf, 1883-1971         (Per...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>This collection consists of materials related ...</td>
      <td>Correspondence                      Hudson (N....</td>
      <td>Information concerning the literary rights may...</td>
      <td>[If you have any exceptions to the AJHS-approv...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Overview           Contains three checks signe...</td>
      <td>Sutro, Adolph, 1830-1898         (Person)</td>
      <td>undated, 1896-1897</td>
      <td>.25 Linear Feet</td>
      <td>Title                Guide to the Adolph Heinr...</td>
      <td>English</td>
      <td>/repositories/3</td>
      <td>Adolph Heinrich Joseph Sutro papers</td>
      <td>Container: Consolidated Box P9, Folder: P-318 ...</td>
      <td>Creator   Sutro, Adolph, 1830-1898         (Pe...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Contains three checks signed by Sutro; , and a...</td>
      <td>Finance                      Public health    ...</td>
      <td>No permission is required to quote, reproduce ...</td>
      <td>The collection is open to all researchers, exc...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Overview           Consists of a collection of...</td>
      <td>Sabath, Adolph Joachim, 1866-1952         (Per...</td>
      <td>1909-1952</td>
      <td>0.5 Linear Feet</td>
      <td>Title                Guide to the Adolph J. Sa...</td>
      <td>eng           Access Restrictions             ...</td>
      <td>/repositories/3</td>
      <td>Adolph J. Sabath papers</td>
      <td></td>
      <td>Creator   Sabath, Adolph Joachim, 1866-1952   ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Consists of a collection of bills and resoluti...</td>
      <td>Emigration and immigration law                ...</td>
      <td></td>
      <td>None                Biographical Note         ...</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Overview           Included in this collection...</td>
      <td>Solomons, Adolphus S. (Adolphus Simeon), 1826-...</td>
      <td>undated, 1841-1966</td>
      <td>3.7 Linear Feet (4 manuscript boxes, 1 oversiz...</td>
      <td>Title                Guide to the Papers of Ad...</td>
      <td>The collection is in English.           Access...</td>
      <td>/repositories/3</td>
      <td>Adolphus Simeon Solomons, papers</td>
      <td></td>
      <td>Creator   Solomons, Adolphus S. (Adolphus Sime...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Included in this collection are papers which r...</td>
      <td>American Red Cross                      Americ...</td>
      <td>No permission is required to quote, reproduce ...</td>
      <td>The collection is open to all researchers, exc...</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Overview           Collection consists of annu...</td>
      <td>Aguilar Free Library (New York, N.Y.)         ...</td>
      <td>1899-1903</td>
      <td>1 Folders</td>
      <td>Title                Guide to the Aguilar Free...</td>
      <td>eng          Extent     1 Folders</td>
      <td>/repositories/3</td>
      <td>Aguilar Free Library Society records</td>
      <td></td>
      <td>Creator   Aguilar Free Library (New York, N.Y....</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Collection consists of annual reports from 189...</td>
      <td>Educational Alliance (New York, N.Y.)         ...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>35</th>
      <td>Overview           The collection contains pho...</td>
      <td>Cohen, Alan, L.         (Person)          Lang...</td>
      <td>1989, 1993</td>
      <td>1 Manuscript Boxes (1/2 linear foot)</td>
      <td>Title                Guide to the Papers of Al...</td>
      <td>The collection is in English.           Access...</td>
      <td>/repositories/3</td>
      <td>Alan L. Cohen Papers</td>
      <td></td>
      <td>Creator   Cohen, Alan, L.         (Person)    ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The collection contains 203 photographs taken ...</td>
      <td>Antisemitism                      Emigration a...</td>
      <td>Information concerning the literary rights may...</td>
      <td>The collection is open to all researchers by p...</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Overview           The collection contains pap...</td>
      <td>Kohn, Alan M.         (Person)          Langua...</td>
      <td>1995, 2008</td>
      <td>1 Folders</td>
      <td>Title                Guide to the Papers of Al...</td>
      <td>The collection is in English.           Access...</td>
      <td>/repositories/3</td>
      <td>Alan M. Kohn Papers</td>
      <td></td>
      <td>Creator   Kohn, Alan M.         (Person)      ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The collection consists of a part of an unpubl...</td>
      <td>Antisemitism                      Corresponden...</td>
      <td>Information concerning the literary rights may...</td>
      <td>The collection is open to all researchers by p...</td>
    </tr>
    <tr>
      <th>54</th>
      <td>Overview           The collection consists of ...</td>
      <td>Hutler, Albert A.         (Person)          Bi...</td>
      <td>1972-1975</td>
      <td>2 Manuscript Boxes        1 Linear Feet</td>
      <td>Title                Guide to the Albert Hutle...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>Albert Hutler Wilkes-Barre flood collection</td>
      <td></td>
      <td>Creator   Hutler, Albert A.         (Person)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The collection consists of a report to the Cou...</td>
      <td>Camps                      Charities -- United...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>65</th>
      <td>Overview           Records of activities of a ...</td>
      <td>Aleph Beth Club (St. Paul, Minn.)         (Org...</td>
      <td>undated, 1913-1923</td>
      <td>1 Manuscript Boxes        .25 Linear Feet</td>
      <td>Title                Guide to the Aleph Beth C...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>Aleph Beth Club (St. Paul, Minn.) records</td>
      <td></td>
      <td>Creator   Aleph Beth Club (St. Paul, Minn.)   ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Records of activities of a Jewish young men's ...</td>
      <td>Amateur theater                      Athletic ...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>77</th>
      <td>Overview           This collection contains a ...</td>
      <td>Hamilton, Alexander, 1757-1804         (Person...</td>
      <td>undated</td>
      <td>1 Folders</td>
      <td>Title                Guide to the Alexander Ha...</td>
      <td>The collection is in English.           Access...</td>
      <td>/repositories/3</td>
      <td>Alexander Hamilton Manuscript Fragment</td>
      <td>Container: Consolidated Box P2, Folder: P-104 ...</td>
      <td>Creator   Hamilton, Alexander, 1757-1804      ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>This collection contains a fragment of a manus...</td>
      <td>Fragments (object portions)                   ...</td>
      <td>No permission is required to quote, reproduce ...</td>
      <td>The collection is open to all researchers, exc...</td>
    </tr>
    <tr>
      <th>90</th>
      <td>Overview           Contains a diary (68 pages)...</td>
      <td>Harkavy, Alexander, 1863-1939         (Person)</td>
      <td>undated, 1868-1937</td>
      <td>1 Manuscript Boxes        .25 Linear Feet</td>
      <td>Title                Guide to the Alexander Ha...</td>
      <td>English</td>
      <td>/repositories/3</td>
      <td>Alexander Harkavy papers</td>
      <td></td>
      <td>Creator   Harkavy, Alexander, 1863-1939       ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Contains a diary (68 pages) kept by Harkavy of...</td>
      <td>Adult education                      Baltimore...</td>
      <td>No permission is required to quote, reproduce ...</td>
      <td>The collection is open to all researchers, exc...</td>
    </tr>
    <tr>
      <th>104</th>
      <td>Overview           A bond, issued by the Savan...</td>
      <td>Isaacs, Alexander         (Person)</td>
      <td>1869</td>
      <td>1 Folders        1 Folders</td>
      <td>Title                Guide to the Alexander Is...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>Alexander Isaacs bond</td>
      <td></td>
      <td>Creator   Isaacs, Alexander         (Person)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>A bond, issued by the Savannah and Charleston ...</td>
      <td>United States -- Economic conditions          ...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>119</th>
      <td>Overview           Contains 27 letters, of whi...</td>
      <td>Mayer, Alexander         (Person)</td>
      <td>1850-1852</td>
      <td>1 Manuscript Boxes        .25 Linear Feet</td>
      <td>Title                Guide to the Alexander Ma...</td>
      <td>English       German</td>
      <td>/repositories/3</td>
      <td>Alexander Mayer letters</td>
      <td>Container: Consolidated Box P3, Folder: P-117 ...</td>
      <td>Creator   Mayer, Alexander         (Person)   ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Contains 27 letters, of which 16 are in German...</td>
      <td>Bomeisler, Edwin                      Columbia...</td>
      <td>No permission is required to quote, reproduce ...</td>
      <td>The collection is open to all researchers, exc...</td>
    </tr>
    <tr>
      <th>135</th>
      <td>Overview           The Davidson/Borison family...</td>
      <td>Lipsey, Alfred E.         (Person)          La...</td>
      <td>1990-1992</td>
      <td>2 Linear Feet (4 manuscript boxes)</td>
      <td>Title                Guide to the Alfred E. Li...</td>
      <td>The collection is in English.           Access...</td>
      <td>/repositories/3</td>
      <td>Alfred E. Lipsey genealogies</td>
      <td></td>
      <td>Creator   Lipsey, Alfred E.         (Person)  ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The Davidson/Borison family connection, a gene...</td>
      <td>Capin family                         Datzkowsk...</td>
      <td>Information concerning the literary rights may...</td>
      <td>The collection is open to all researchers by p...</td>
    </tr>
    <tr>
      <th>152</th>
      <td>Overview           An important figure in the ...</td>
      <td></td>
      <td>undated, 1882-1936             Language of Mat...</td>
      <td>8.30 Linear Feet (3 manuscript boxes, 4 oversi...</td>
      <td>Title                Guide to the Papers of Al...</td>
      <td>The collection is in English, French, and Yidd...</td>
      <td>/repositories/3</td>
      <td>Alice Davis Menken Papers</td>
      <td></td>
      <td></td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The papers of Alice Davis Menken contain corre...</td>
      <td>Articles                      Clippings (infor...</td>
      <td>No permission is required to quote, reproduce ...</td>
      <td>The collection is open to all researchers, exc...</td>
    </tr>
    <tr>
      <th>170</th>
      <td>Overview           The collection contains the...</td>
      <td>Alpha Delta Epsilon         (Organization)    ...</td>
      <td>1940</td>
      <td>1 Folders</td>
      <td>Title                Guide to the Alpha Delta ...</td>
      <td>eng           Biographical Note               ...</td>
      <td>/repositories/3</td>
      <td>Alpha Delta Epsilon</td>
      <td></td>
      <td>Creator   Alpha Delta Epsilon         (Organiz...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The collection contains the following publicat...</td>
      <td>Greek letter societies                        ...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>189</th>
      <td>Note                Old call#: MS-FRA.A135. On...</td>
      <td>Alpha Epsilon Phi         (Organization)      ...</td>
      <td>March 1947</td>
      <td>1 Folders</td>
      <td>Title                Guide to the Alpha Epsilo...</td>
      <td>eng           Biographical Note               ...</td>
      <td>/repositories/3</td>
      <td>Alpha Epsilon Phi</td>
      <td></td>
      <td>Creator   Alpha Epsilon Phi         (Organizat...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td></td>
      <td>Greek letter societies                      So...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>209</th>
      <td>Overview           The collection contains mis...</td>
      <td>Alpha Epsilon Pi         (Organization)       ...</td>
      <td>1934-1956</td>
      <td>.25 Linear Feet (1 one-half manuscript box)</td>
      <td>Title                Guide to the Alpha Epsilo...</td>
      <td>eng           Biographical Note               ...</td>
      <td>/repositories/3</td>
      <td>Alpha Epsilon Pi collection</td>
      <td></td>
      <td>Creator   Alpha Epsilon Pi         (Organizati...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The collection contains miscellaneous correspo...</td>
      <td>Greek letter societies                      Gr...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>230</th>
      <td>Overview           This collection is comprise...</td>
      <td>Alpha Omega (Fraternity)         (Organization...</td>
      <td>1947-1970</td>
      <td>0.5 Linear Feet (1 manuscript box)</td>
      <td>Title                Guide to the Alpha Omega ...</td>
      <td>eng           Biographical Note               ...</td>
      <td>/repositories/3</td>
      <td>Alpha Omega collection</td>
      <td></td>
      <td>Creator   Alpha Omega (Fraternity)         (Or...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>This collection is comprised of invitations, p...</td>
      <td>Greek letter societies                        ...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>252</th>
      <td>Overview           Contains almanacs, programs...</td>
      <td>Amalgamated Clothing Workers of America       ...</td>
      <td>undated, 1923-1964</td>
      <td>2 Boxes        .75 Linear Feet</td>
      <td>Title                Guide to the Amalgamated ...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>Amalgamated Clothing Workers of America coll...</td>
      <td></td>
      <td>Creator   Amalgamated Clothing Workers of Amer...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Contains almanacs, programs, newsletters, pamp...</td>
      <td>Clothing trade                      Clothing w...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>275</th>
      <td>Overview           Consists of secretary's min...</td>
      <td>America-Israel Society         (Organization)</td>
      <td>1957-1966</td>
      <td>1 Manuscript Boxes        .25 Linear Feet</td>
      <td>Title                Guide to the America-Isra...</td>
      <td>English</td>
      <td>/repositories/3</td>
      <td>America-Israel Society records</td>
      <td></td>
      <td>Creator   America-Israel Society         (Orga...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Consists of secretary's minute book with copy ...</td>
      <td>Antiquities                      Archaeologica...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>299</th>
      <td>Overview           Collection contains publica...</td>
      <td>American Academic Association for Peace in the...</td>
      <td>undated, 1967-1984</td>
      <td>1 Boxes        .6 Linear Feet</td>
      <td>Title                Guide to the American Aca...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>American Academic Association for Peace in t...</td>
      <td></td>
      <td>Creator   American Academic Association for Pe...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Collection contains publications relating to r...</td>
      <td>American Professors for Peace in the Middle Ea...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>324</th>
      <td>Overview           Consists of correspondence ...</td>
      <td>American Academy for Jewish Research         (...</td>
      <td>undated, 1928-2001                         Maj...</td>
      <td>7.5 Linear Feet (15 manuscript boxes)</td>
      <td>Title                Guide to the Records of A...</td>
      <td>The collection is in English, Dutch, French, G...</td>
      <td>/repositories/3</td>
      <td>American Academy for Jewish Research, records</td>
      <td></td>
      <td>Creator   American Academy for Jewish Research...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>The collection consists of correspondence from...</td>
      <td>Agendas (administrative records)              ...</td>
      <td>Information concerning the literary rights may...</td>
      <td>The collection is open to all researchers by p...</td>
    </tr>
    <tr>
      <th>350</th>
      <td>Overview           Founded in 1969, the Americ...</td>
      <td>American Association for Ethiopian Jews       ...</td>
      <td>undated, 1960-1961, 1963, 1965-1968, 1970-1995...</td>
      <td>92.2 Linear Feet (168 manuscript boxes, 4 Holl...</td>
      <td>Title                Guide to the Records of A...</td>
      <td>The collection is in English, Amharic, Chinese...</td>
      <td>/repositories/3</td>
      <td>American Association for Ethiopian Jews (AAE...</td>
      <td></td>
      <td>Creator   American Association for Ethiopian J...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Founded in 1969, the American Association for ...</td>
      <td>AMIT (Organization)                      Addis...</td>
      <td>Information concerning the literary rights may...</td>
      <td>The collection is open to all researchers by p...</td>
    </tr>
    <tr>
      <th>377</th>
      <td>Overview           This collection is comprise...</td>
      <td>American Council for Judaism         (Organiza...</td>
      <td>undated, 1943-1991</td>
      <td>1.25 Linear Feet (2 manuscript boxes, 1 half m...</td>
      <td>Title                Guide to the American Cou...</td>
      <td>The collection is in English.           Access...</td>
      <td>/repositories/3</td>
      <td>American Council for Judaism collection</td>
      <td></td>
      <td>Creator   American Council for Judaism        ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>This collection is comprised of correspondence...</td>
      <td>Annual Reports                      Correspond...</td>
      <td>Information concerning the literary rights may...</td>
      <td>The collection is open to all researchers by p...</td>
    </tr>
    <tr>
      <th>405</th>
      <td>Overview           Newsletters, pamphlets and ...</td>
      <td>Brodie, Israel B., 1884-1965         (Person)</td>
      <td>1933-1938</td>
      <td>1 Manuscript Boxes        .25 Linear Feet</td>
      <td>Title                Guide to the American Eco...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>American Economic Committee for Palestine re...</td>
      <td></td>
      <td>Creator   Brodie, Israel B., 1884-1965        ...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Newsletters, pamphlets and fact sheets publish...</td>
      <td>Brodie, Israel B., 1884-1965                  ...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>434</th>
      <td>Overview           Contains incorporation and ...</td>
      <td>American Financial and Development Corporation...</td>
      <td>undated, 1950-1977</td>
      <td>2 Boxes        1 Linear Feet</td>
      <td>Title                Guide to the American Fin...</td>
      <td>English</td>
      <td>/repositories/3</td>
      <td>American Financial and Development Corporati...</td>
      <td></td>
      <td>Creator   American Financial and Development C...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Contains incorporation and bylaws, financial s...</td>
      <td>Bonds                      Economic conditions...</td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>464</th>
      <td>Overview           Contains annual reports, ca...</td>
      <td>American Friends of the Hebrew University     ...</td>
      <td>undated, 1938-1996</td>
      <td>1 Boxes        .5 Linear Feet</td>
      <td>Title                Guide to the American Fri...</td>
      <td></td>
      <td>/repositories/3</td>
      <td>American Friends of the Hebrew University co...</td>
      <td></td>
      <td>Creator   American Friends of the Hebrew Unive...</td>
      <td>Repository Details  Part of the American Jewis...</td>
      <td>Contains annual reports, catalogs, pamphlets, ...</td>
      <td>Education, Higher -- Israel                   ...</td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Loeb-Data-Scraper">Loeb Data Scraper<a class="anchor-link" href="#Loeb-Data-Scraper"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <a href="https://loebjewishportraits.com">Loeb data scraper</a>fetches meta deta and can download images for paintings, silhouettes, and photographs from the archive (or all of the above).</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Code" data-close="Show Code"></summary>
        <p><div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#collapse-hide</span>
<span class="k">class</span> <span class="nc">loeb</span><span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  This class can be used to interact with the loeb image data base.</span>
<span class="sd">  The init funciton takes 1 argument which is the type of data to retreive.</span>
<span class="sd">  The input should be one of the following : &#39;paintings&#39;, silhouettes, photographs, or &#39;all&#39;</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_set</span><span class="o">=</span><span class="s1">&#39;paintings&#39;</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">scrape_loeb</span><span class="p">(</span><span class="n">URL</span><span class="p">):</span>
      <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">)</span>
      <span class="n">web_page</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">URL</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
      <span class="n">table</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;portfolio&#39;</span><span class="p">)</span>
      <span class="n">div</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;portfolio&quot;</span><span class="p">)</span>
      <span class="n">linkList</span> <span class="o">=</span> <span class="n">web_page</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span><span class="s1">&#39;work-info&#39;</span><span class="p">})</span>
      <span class="n">df_dict</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">links</span> <span class="ow">in</span> <span class="n">linkList</span><span class="p">:</span>
        <span class="n">twolinks</span> <span class="o">=</span> <span class="n">links</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">details</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">twolinks</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">img</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">twolinks</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
        <span class="n">new_df_tuple</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;info_link&#39;</span><span class="p">:</span><span class="n">details</span><span class="p">,</span> <span class="s1">&#39;img_link&#39;</span><span class="p">:</span><span class="n">img</span><span class="p">}</span>
        <span class="n">df_dict</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_df_tuple</span><span class="p">)</span>
      
      <span class="n">listOfDfs</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
      <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">df_dict</span><span class="p">)</span>
      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">itertuples</span><span class="p">():</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">img_link</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">info_link</span>
        <span class="c1"># print(info)</span>
        
        <span class="c1"># print(info)</span>
        <span class="c1"># download_image(img,&#39;test.jpg&#39;)</span>
        
        <span class="n">profile</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">info</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">,</span><span class="n">src</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">3</span><span class="p">]</span>
        <span class="c1"># print(img)</span>
        <span class="c1"># print(profile)</span>
        <span class="c1"># print(profile)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;h4&#39;</span><span class="p">)</span>
        <span class="c1"># print(a)</span>
        <span class="n">b</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;h3&quot;</span><span class="p">)</span>

        <span class="c1"># bio = profile</span>
        <span class="n">linkts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">profile</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="s1">&#39;viewzoom&#39;</span><span class="p">},</span><span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">def</span> <span class="nf">scrape_bio_loeb</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
          <span class="n">bio</span> <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
          <span class="n">abc</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">bio</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;p&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
          <span class="n">abcd</span><span class="o">=</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">abc</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;/p&gt;&#39;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">))</span>
          <span class="n">bio_text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">abcd</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&lt;i&gt;&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">))</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&lt;/i&gt;&quot;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">))</span>
          <span class="n">s</span> <span class="o">=</span> <span class="n">bio_text</span>
          <span class="n">bio_plain</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;.+?&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
          <span class="k">if</span> <span class="s1">&#39;Lorem ipsum dolor sit amet,&#39;</span> <span class="ow">in</span> <span class="n">bio_plain</span><span class="p">:</span>
            <span class="n">bio_plain</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
          <span class="k">if</span> <span class="s2">&quot;Lorem ipsum dolor sit amet,&quot;</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
          <span class="c1"># bio_escapes = re.sub(r&#39;&gt;.+?&lt;&#39;, &#39;&#39;, s)</span>
          <span class="k">return</span> <span class="n">bio_plain</span><span class="p">,</span> <span class="n">s</span>
        
        <span class="n">bio__</span> <span class="o">=</span> <span class="n">scrape_bio_loeb</span><span class="p">(</span><span class="n">linkts</span><span class="p">)</span>
        <span class="c1"># print(bio__)</span>
        

        <span class="c1"># print(linkts,len(linkts), &quot;hkgdfsjhsfgakljhashlf&quot;)</span>
        <span class="c1"># break</span>
        <span class="n">headers4</span> <span class="o">=</span> <span class="n">striplist</span><span class="p">((</span><span class="n">a</span><span class="p">))</span>
        <span class="n">headers4_</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">headers4</span><span class="p">:</span>
          <span class="n">headers4_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="c1"># headers4_ = .extend(headers4)</span>
        <span class="n">headers3</span> <span class="o">=</span> <span class="n">striplist</span><span class="p">(</span> <span class="n">b</span><span class="p">)</span>
        <span class="c1"># print(headers4_, headers3)</span>
        <span class="c1"># break</span>
        <span class="n">headers4_</span> <span class="o">=</span> <span class="n">headers4_</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">headers4_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Bio_Plain&#39;</span><span class="p">)</span>
        <span class="n">headers3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bio__</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="n">headers4_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;Bio_Links&#39;</span><span class="p">)</span>
        <span class="n">headers3</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bio__</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Label&#39;</span><span class="p">:</span><span class="n">headers4_</span> <span class="p">,</span> <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="n">headers3</span><span class="p">})</span>

        <span class="c1"># name_for_file = headers[0][1]</span>
        <span class="c1"># print(name_for_file, headers, headers[0])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">image_cache</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">img</span><span class="p">,</span> <span class="n">df1</span><span class="p">))</span>


        <span class="n">listOfDfs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">df1</span><span class="p">)</span>
        <span class="c1"># download_image(img, str(str(counter) + &#39;.jpg&#39;))</span>
        <span class="n">counter</span><span class="o">+=</span><span class="mi">1</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">list_of_dfs</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">listOfDfs</span><span class="p">)</span> 

    <span class="bp">self</span><span class="o">.</span><span class="n">list_of_dfs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">image_cache</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">if</span> <span class="n">data_set</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;ALL&#39;</span><span class="p">:</span>
      <span class="n">data_options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;paintings&#39;</span><span class="p">,</span> <span class="s1">&#39;silhouettes&#39;</span><span class="p">,</span> <span class="s1">&#39;photographs&#39;</span><span class="p">]</span>

      <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">data_options</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">URL</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s2">&quot;http://loebjewishportraits.com/&quot;</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="n">scrape_loeb</span><span class="p">(</span><span class="n">URL</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
      <span class="k">try</span><span class="p">:</span>
          
        <span class="n">URL</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="s2">&quot;http://loebjewishportraits.com/&quot;</span> <span class="o">+</span> <span class="n">data_set</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span>
        <span class="n">scrape_loeb</span><span class="p">(</span><span class="n">URL</span><span class="p">)</span>
      <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not find a data set for: &quot;</span><span class="p">,</span> <span class="n">data_set</span><span class="p">,</span> <span class="s2">&quot;Make sure you input either &#39;paintings&#39;, &#39;silhouettes&#39;, or &#39;photographs&#39;!&quot;</span><span class="p">)</span>


  <span class="k">def</span> <span class="nf">get_meta_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">export</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    returns a meta dataframe with each painting as an entry in a row</span>

<span class="sd">    export can be csv or excel</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">listy</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">list_of_dfs</span>
    <span class="n">transposed</span> <span class="o">=</span> <span class="p">[</span><span class="n">thing</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span> <span class="k">for</span> <span class="n">thing</span> <span class="ow">in</span> <span class="n">listy</span><span class="p">]</span>

    <span class="n">cc</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">newList</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">transposed</span><span class="p">:</span>
      <span class="c1"># print(len(i.columns))</span>
      <span class="n">new_cols</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="n">i</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">new_cols</span>
      <span class="n">i</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

      
    <span class="n">long_df_of_entrys</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">transposed</span><span class="p">)</span>
    <span class="n">long_df_of_entrys</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">long_df_of_entrys</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>


  <span class="k">def</span> <span class="nf">download_images</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">download_image</span><span class="p">(</span><span class="n">link</span><span class="p">,</span><span class="n">filename</span><span class="p">):</span>
      <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
      <span class="c1"># print(&#39;image saved to temp directory&#39;)</span>



    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">image_cache</span><span class="p">:</span>
      <span class="n">name</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">Value</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      
      <span class="n">fileName</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>

      <span class="k">try</span><span class="p">:</span>

        <span class="n">download_image</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">fileName</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Saved&#39;</span><span class="p">,</span> <span class="n">fileName</span><span class="p">,</span> <span class="s1">&#39;to current directory&#39;</span><span class="p">)</span>

      <span class="k">except</span> <span class="ne">BaseException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Could not download:&quot;</span><span class="p">,</span> <span class="n">fileName</span><span class="p">,</span> <span class="s2">&quot;Error:&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
</p>
    </details>
</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Scraping-Meta-Data-and-Download-Locations-for-Selected-Image-Type">Scraping Meta Data and Download Locations for Selected Image Type<a class="anchor-link" href="#Scraping-Meta-Data-and-Download-Locations-for-Selected-Image-Type"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">paintings</span> <span class="o">=</span> <span class="n">loeb</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Building-a-MetaData-Dataset-for-the-Paintings">Building a MetaData Dataset for the Paintings<a class="anchor-link" href="#Building-a-MetaData-Dataset-for-the-Paintings"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">meta_data</span> <span class="o">=</span> <span class="n">paintings</span><span class="o">.</span><span class="n">get_meta_data</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Output-For-Painting-MetaData">Output For Painting MetaData<a class="anchor-link" href="#Output-For-Painting-MetaData"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>Name</th>
      <th>Life Span</th>
      <th>Artist</th>
      <th>Painting Date</th>
      <th>Medium</th>
      <th>Repository</th>
      <th>Bio_Plain</th>
      <th>Bio_Links</th>
      <th>Dimensions</th>
      <th>Artist Life Span</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Value</td>
      <td>Richea Myers Cohen Gratz</td>
      <td>1731-1801</td>
      <td>Artist unknown</td>
      <td>ca. 1750</td>
      <td>Oil on canvas</td>
      <td>Mikveh Israel</td>
      <td>In 1729 Samuel Myers-Cohen, a militia veteran...</td>
      <td>In 1729 &lt;a class="intlink" href="http://loebj...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Value</td>
      <td>Richea Myers Cohen Gratz</td>
      <td>1731-1801</td>
      <td>Artist unknown</td>
      <td>ca. 1750</td>
      <td>Oil on canvas</td>
      <td>Mikveh Israel</td>
      <td>In 1729 Samuel Myers-Cohen, a militia veteran...</td>
      <td>In 1729 &lt;a class="intlink" href="http://loebj...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Value</td>
      <td>Sarah Hamburger</td>
      <td>NaN</td>
      <td>Artist unknown</td>
      <td>ca. 1850</td>
      <td>Oil on canvas</td>
      <td>Jewish Museum of Maryland</td>
      <td></td>
      <td></td>
      <td>16 1/2 x 13 1/2 in.</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Value</td>
      <td>Richea Myers Cohen Gratz</td>
      <td>1731-1801</td>
      <td>Artist unknown</td>
      <td>ca. 1750</td>
      <td>Oil on canvas</td>
      <td>Mikveh Israel</td>
      <td>In 1729 Samuel Myers-Cohen, a militia veteran...</td>
      <td>In 1729 &lt;a class="intlink" href="http://loebj...</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Value</td>
      <td>Sarah Hamburger</td>
      <td>NaN</td>
      <td>Artist unknown</td>
      <td>ca. 1850</td>
      <td>Oil on canvas</td>
      <td>Jewish Museum of Maryland</td>
      <td></td>
      <td></td>
      <td>16 1/2 x 13 1/2 in.</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>53296</th>
      <td>Value</td>
      <td>Miriam Simon Gratz</td>
      <td>1749-1808</td>
      <td>Jane Cooper Sully Darley</td>
      <td>NaN</td>
      <td>Oil on canvas</td>
      <td>Rosenbach Museum and Library</td>
      <td>Miriam Simon was the oldest surviving child b...</td>
      <td>Miriam Simon was the oldest surviving child b...</td>
      <td>NaN</td>
      <td>1807-1877</td>
    </tr>
    <tr>
      <th>53297</th>
      <td>Value</td>
      <td>Rebecca Gratz</td>
      <td>1781-1869</td>
      <td>Thomas Sully</td>
      <td>1831</td>
      <td>Oil on board</td>
      <td>Rosenbach Museum and Library</td>
      <td>Rebecca Gratz, the seventh of twelve children...</td>
      <td>&lt;a class="intlink" href="http://loebjewishpor...</td>
      <td>20 x 17 in.</td>
      <td>1783-1872</td>
    </tr>
    <tr>
      <th>53298</th>
      <td>Value</td>
      <td>Rebecca Gratz</td>
      <td>1781-1869</td>
      <td>Thomas Sully</td>
      <td>1830</td>
      <td>Oil on canvas, mounted on masonite</td>
      <td>Delaware Art Museum</td>
      <td>Rebecca Gratz, the seventh of twelve children...</td>
      <td>&lt;a class="intlink" href="http://loebjewishpor...</td>
      <td>20 x 17 in.</td>
      <td>1783-1872</td>
    </tr>
    <tr>
      <th>53299</th>
      <td>Value</td>
      <td>Rebecca Gratz</td>
      <td>1781-1869</td>
      <td>Thomas Sully</td>
      <td>1858</td>
      <td>Oil on canvas</td>
      <td>American Jewish Historical Society</td>
      <td>Rebecca Gratz, the seventh of twelve children...</td>
      <td>&lt;a class="intlink" href="http://loebjewishpor...</td>
      <td>20 x 16 in.</td>
      <td>1783-1872</td>
    </tr>
    <tr>
      <th>53300</th>
      <td>Value</td>
      <td>Rebecca Gratz</td>
      <td>1781-1869</td>
      <td>Thomas Sully</td>
      <td>1831</td>
      <td>Oil on canvas</td>
      <td>Rosenbach Museum and Library</td>
      <td>Rebecca Gratz, the seventh of twelve children...</td>
      <td>&lt;a class="intlink" href="http://loebjewishpor...</td>
      <td>28 x 24 in.</td>
      <td>1783-1872</td>
    </tr>
  </tbody>
</table>
<p>53301 rows × 11 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Batch-Downloading-Paintings-(Takes-a-while!)">Batch Downloading Paintings (Takes a while!)<a class="anchor-link" href="#Batch-Downloading-Paintings-(Takes-a-while!)"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># paintings.download_images()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

</div>

